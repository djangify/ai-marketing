<!-- templates/includes/navbar.html -->
{% load static %}

{% if not user.is_authenticated %}
<header class="fixed w-full top-0 z-50 bg-white py-4 mx-4">
    <nav class="bg-white border-gray-200 py-2.5 dark:bg-gray-900">
        <div class="flex flex-wrap items-center justify-between max-w-screen-xl px-4 mx-auto">
            <a href="#" class="flex items-center">
                <img src="{% static 'images/amp-trans2.png' %}" class="h-6 mr-3 sm:h-9" alt="AI Marketing platform logo" />
                <span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">AI Marketing Platform</span>
            </a>
            
            <div class="flex items-center lg:order-2">
                <button id="mobile-menu-button" type="button" class="inline-flex items-center p-2 ml-1 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="mobile-menu" aria-expanded="false">
                    <span class="sr-only">Open main menu</span>
                    <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                    <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <div class="items-center justify-between hidden w-full lg:flex lg:w-auto lg:order-1" id="mobile-menu-2">
                <ul class="flex flex-col mt-4 font-medium lg:flex-row lg:space-x-8 lg:mt-0">
                    <li>
                        <a href="{% url 'core:index' %}" class="block mt-2 py-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 uppercase font-medium">HOME</a>
                    </li>
                    <li>
                        <a href="/#about" class="block mt-2 py-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 uppercase font-medium">ABOUT</a>
                    </li>
                    <li>
                        <a href="/#pricing" class="block mt-2 py-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 uppercase font-medium">PRICING</a>
                    </li>
                    <li>
                        <a href="/#faq" class="block mt-2 py-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 uppercase font-medium">FAQ</a>
                    </li>
                    
                    <li>
                        <a href="{% url 'accounts:login' %}" class="block mt-2 pl-3 pr-4 text-gray-700 border-b border-gray-100 hover:bg-gray-50 lg:hover:bg-transparent lg:border-0 lg:hover:text-purple-700 lg:p-0 uppercase font-medium">LOGIN</a>
                    </li>
                    <li>
                        <a href="{% url 'accounts:signup' %}" class="block py-2 pl-3 pr-4 bg-purple-200 text-purple-900 px-4 rounded-md font-bold uppercase hover:bg-purple-300 transition-colors">SIGN UP</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <!-- Mobile menu, show/hide based on menu state. -->
    <div class="lg:hidden hidden bg-white" id="mobile-menu">
        <div class="pt-2 pb-3 space-y-1">
            <a href="{% url 'core:index' %}" class="border-transparent text-gray-700 hover:bg-gray-50 hover:border-purple-500 hover:text-purple-700 block pl-3 pr-4 py-2 border-l-4 text-base uppercase font-medium">
                HOME
            </a>
            <a href="#/about" class="border-transparent text-gray-700 hover:bg-gray-50 hover:border-purple-500 hover:text-purple-700 block pl-3 pr-4 py-2 border-l-4 text-base uppercase font-medium">
                ABOUT
            </a>
            <a href="#/pricing" class="border-transparent text-gray-700 hover:bg-gray-50 hover:border-purple-500 hover:text-purple-700 block pl-3 pr-4 py-2 border-l-4 text-base uppercase font-medium">
                PRICING
            </a>
            <a href="#/faq" class="border-transparent text-gray-700 hover:bg-gray-50 hover:border-purple-500 hover:text-purple-700 block pl-3 pr-4 py-2 border-l-4 text-base uppercase font-medium">
                FAQ
            </a>
            
            <a href="{% url 'accounts:login' %}" class="border-transparent text-gray-700 hover:bg-gray-50 hover:border-purple-500 hover:text-purple-700 block pl-3 pr-4 py-2 border-l-4 text-base uppercase font-medium">
                LOGIN
            </a>
            <a href="{% url 'accounts:signup' %}" class="my-2 mx-3 px-4 py-2 bg-purple-200 text-purple-900 rounded-md block text-center font-bold uppercase hover:bg-purple-300 transition-colors">
                SIGN UP
            </a>
        </div>
    </div>
</header>
{% endif %}

<script>
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    if (mobileMenuButton) {
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIcons = mobileMenuButton.querySelectorAll('svg');
        
        mobileMenuButton.addEventListener('click', function() {
            // Toggle menu visibility
            mobileMenu.classList.toggle('hidden');
            
            // Toggle icon visibility (hamburger/close)
            menuIcons.forEach(icon => {
                icon.classList.toggle('hidden');
            });
        });
    }
});
</script>